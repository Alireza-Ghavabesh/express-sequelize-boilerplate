<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="./css/users.css" />
    <link
      type="text/css"
      rel="stylesheet"
      href="css/persianDatepicker-default.css"
    />
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <title>کاربران</title>

    <!-- Bootstrap -->
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css"
      integrity="sha384-HSMxcRTRxnN+Bdg0JdbxYKrThecOKuH5zCYotlSAcp1+c8xmyTe9GYg1l9a69psu"
      crossorigin="anonymous"
    />

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="container">
      <div class="row">
        <div class="col-xs-12 col-md-6" id="list-users">
          <!-- <div class="well">
            <ul>
              <img src="./img/photo_2021-01-26_18-06-25.jpg" alt="" />
              <li>نام : علیرضا</li>
              <li>نام خانوادگی : غوابش</li>
              <li>کدملی : 1742909973</li>
              <li>تاریخ تولد : 4651684</li>
              <li>کدجهادگر : 4651684</li>
              <li>تاریخ ثبت نام : 1378/01/10</li>
              <li>علاقمندی : 4651684</li>
              <li>کمیته : 4651684</li>
            </ul>
          </div> -->
          <!-- <div class="well">
            <ul>
              <li>نام : محمد غوابش</li>
              <li>کدملی : 1742909973</li>
              <li>تاریخ تولد : 4651684</li>
              <li>کدجهادگر : 4651684</li>
              <li>تاریخ ثبت نام : 1378/01/10</li>
              <li>علاقمندی : 4651684</li>
              <li>کمیته : 4651684</li>
            </ul>
          </div> -->
          <!-- <div class="well">
            <ul>
              <li>نام : محمد غوابش</li>
              <li>کدملی : 1742909973</li>
              <li>تاریخ تولد : 4651684</li>
              <li>کدجهادگر : 4651684</li>
              <li>تاریخ ثبت نام : 1378/01/10</li>
              <li>علاقمندی : 4651684</li>
              <li>کمیته : 4651684</li>
            </ul>
          </div> -->
          <!-- <div class="well">
            <ul>
              <li>نام : محمد غوابش</li>
              <li>کدملی : 1742909973</li>
              <li>تاریخ تولد : 4651684</li>
              <li>کدجهادگر : 4651684</li>
              <li>تاریخ ثبت نام : 1378/01/10</li>
              <li>علاقمندی : 4651684</li>
              <li>کمیته : 4651684</li>
            </ul>
          </div> -->
        </div>
        <div class="col-xs-12 col-md-6">
          <div class="well" id="div-search">
            <select name="" id="search-select">
              <option value="">نوع فیلتر مورد نظر را انتخاب کنید</option>
              <option value="nam">نام</option>
              <option value="nam_khanevadegi">نام خانوادگی</option>
              <option value="tarikh_sabt_nam">تاریخ ثبت نام</option>
              <option value="code_jahadgar">کدجهادگر</option>
              <option value="code_meli">کدملی</option>
              <option value="komite">کمیته</option>
              <option value="alaghemandi">علاقمندی</option>
            </select>
            <input
              id="input-search"
              type="text"
              class="form-control"
              placeholder="متن خود را وارد کنید"
              oninput="search()"
            />

            <!-- <button
              type="button"
              class="btn btn-success"
              id="btn-search"
              onclick="search()"
            > -->
            <!-- جستجو -->
            <!-- </button> -->
          </div>
        </div>
      </div>
    </div>

    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="js/jquery-3.5.1.min.js"></script>
    <script src="js/notify.min.js"></script>
    <script src="js/axios.min.js"></script>
    <script src="js/persianDatepicker.min.js"></script>
    <script>
      // $("#input-search").on("click", () => {
      //   let search_select = document.getElementById("search-select").value;
      //   if (
      //     search_select === "tarikh_sabt_nam" ||
      //     search_select === "tarikh_tavalod"
      //   ) {
      //     $("#input-search").persianDatepicker({
      //       months: [
      //         "فروردین",
      //         "اردیبهشت",
      //         "خرداد",
      //         "تیر",
      //         "مرداد",
      //         "شهریور",
      //         "مهر",
      //         "آبان",
      //         "آذر",
      //         "دی",
      //         "بهمن",
      //         "اسفند",
      //       ],
      //       dowTitle: [
      //         "شنبه",
      //         "یکشنبه",
      //         "دوشنبه",
      //         "سه شنبه",
      //         "چهارشنبه",
      //         "پنج شنبه",
      //         "جمعه",
      //       ],
      //       shortDowTitle: ["ش", "ی", "د", "س", "چ", "پ", "ج"],
      //       showGregorianDate: !1,
      //       persianNumbers: !0,
      //       formatDate: "YYYY/MM/DD",
      //       selectedBefore: !1,
      //       selectedDate: null,
      //       startDate: null,
      //       endDate: null,
      //       prevArrow: "\u25c4",
      //       nextArrow: "\u25ba",
      //       theme: "default",
      //       alwaysShow: !1,
      //       selectableYears: null,
      //       selectableMonths: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12],
      //       cellWidth: 25, // by px
      //       cellHeight: 20, // by px
      //       fontSize: 13, // by px
      //       isRTL: !1,
      //       calendarPosition: {
      //         x: 0,
      //         y: 0,
      //       },
      //       onShow: function () {},
      //       onHide: function () {},
      //       onSelect: function () {},
      //       onRender: function () {},
      //     });
      //   } else {
      //     let calander = document.querySelector(".pdp-default");
      //     if (calander) {
      //       calander.remove();
      //     }
      //   }
      // });

      function search() {
        let selected_option = document.getElementById("search-select").value;
        let input = document.getElementById("input-search").value;
        if (input === "") {
          let col_xs_12_col_md_6 = document.getElementById("list-users");
          col_xs_12_col_md_6.innerHTML = "";
        } else {
          if (selected_option === "nam") {
            axios
              .get(`http://localhost:8000/api/user/nam=${input}`)
              .then((users) => {
                console.log(users);
                let x = users.data;
                let col_xs_12_col_md_6 = document.getElementById("list-users");
                col_xs_12_col_md_6.innerHTML = "";
                for (let user of x) {
                  let tarikh_sabt_nam = user.tarikh_sabt_nam.split("-");
                  tarikh_sabt_nam = `${tarikh_sabt_nam[0]}/${tarikh_sabt_nam[1]}/${tarikh_sabt_nam[2]}`;

                  let tarikh_tavalod = user.tarikh_tavalod.split("-");
                  tarikh_tavalod = `${tarikh_tavalod[0]}/${tarikh_tavalod[1]}/${tarikh_tavalod[2]}`;

                  let col_xs_12_col_md_6 = document.getElementById(
                    "list-users"
                  );
                  // let well = document.createElement("div");
                  // well.setAttribute("class", "well");
                  // let ul = document.createElement("ul");
                  // let li = document.createElement("li");
                  col_xs_12_col_md_6.innerHTML += `
                  <div class="well">
                    <ul>
                      <img src="./upload/${user.aks}" alt="" />
                      <li>نام : ${user.nam}</li>
                      <li>نام خانوادگی : ${user.nam_khanevadegi}</li>
                      <li>کدملی : ${user.code_meli}</li>
                      <li>موبایل : ${user.mobile}</li>
                      <li>تاریخ تولد : ${tarikh_tavalod}</li>
                      <li>کدجهادگر : ${user.code_jahadgar}</li>
                      <li>تاریخ ثبت نام : ${tarikh_sabt_nam}</li>
                      <li>علاقمندی : ${user.alaghemandi}</li>
                      <li>کمیته : ${user.komite}</li>
                    </ul>
                </div>`;
                }
              });
          } else if (selected_option === "nam_khanevadegi") {
            axios
              .get(`http://localhost:8000/api/user/nam_khanevadegi=${input}`)
              .then((users) => {
                console.log(users);
                let x = users.data;
                let col_xs_12_col_md_6 = document.getElementById("list-users");
                col_xs_12_col_md_6.innerHTML = "";
                for (let user of x) {
                  let tarikh_sabt_nam = user.tarikh_sabt_nam.split("-");
                  tarikh_sabt_nam = `${tarikh_sabt_nam[0]}/${tarikh_sabt_nam[1]}/${tarikh_sabt_nam[2]}`;

                  let tarikh_tavalod = user.tarikh_tavalod.split("-");
                  tarikh_tavalod = `${tarikh_tavalod[0]}/${tarikh_tavalod[1]}/${tarikh_tavalod[2]}`;
                  let col_xs_12_col_md_6 = document.getElementById(
                    "list-users"
                  );
                  // let well = document.createElement("div");
                  // well.setAttribute("class", "well");
                  // let ul = document.createElement("ul");
                  // let li = document.createElement("li");
                  col_xs_12_col_md_6.innerHTML += `
                  <div class="well">
                    <ul>
                      <img src="./upload/${user.aks}" alt="" />
                      <li>نام : ${user.nam}</li>
                      <li>نام خانوادگی : ${user.nam_khanevadegi}</li>
                      <li>کدملی : ${user.code_meli}</li>
                      <li>موبایل : ${user.mobile}</li>
                      <li>تاریخ تولد : ${tarikh_tavalod}</li>
                      <li>کدجهادگر : ${user.code_jahadgar}</li>
                      <li>تاریخ ثبت نام : ${tarikh_sabt_nam}</li>
                      <li>علاقمندی : ${user.alaghemandi}</li>
                      <li>کمیته : ${user.komite}</li>
                    </ul>
                </div>`;
                }
              });
          } else if (selected_option === "code_jahadgar") {
            axios
              .get(`http://localhost:8000/api/user/code_jahadgar=${input}`)
              .then((users) => {
                console.log(users);
                let x = users.data;

                let col_xs_12_col_md_6 = document.getElementById("list-users");
                col_xs_12_col_md_6.innerHTML = "";
                for (let user of x) {
                  let tarikh_sabt_nam = user.tarikh_sabt_nam.split("-");
                  tarikh_sabt_nam = `${tarikh_sabt_nam[0]}/${tarikh_sabt_nam[1]}/${tarikh_sabt_nam[2]}`;

                  let tarikh_tavalod = user.tarikh_tavalod.split("-");
                  tarikh_tavalod = `${tarikh_tavalod[0]}/${tarikh_tavalod[1]}/${tarikh_tavalod[2]}`;
                  let col_xs_12_col_md_6 = document.getElementById(
                    "list-users"
                  );
                  // let well = document.createElement("div");
                  // well.setAttribute("class", "well");
                  // let ul = document.createElement("ul");
                  // let li = document.createElement("li");
                  col_xs_12_col_md_6.innerHTML += `
                  <div class="well">
                    <ul>
                      <img src="./upload/${user.aks}" alt="" />
                      <li>نام : ${user.nam}</li>
                      <li>نام خانوادگی : ${user.nam_khanevadegi}</li>
                      <li>کدملی : ${user.code_meli}</li>
                      <li>موبایل : ${user.mobile}</li>
                      <li>تاریخ تولد : ${tarikh_tavalod}</li>
                      <li>کدجهادگر : ${user.code_jahadgar}</li>
                      <li>تاریخ ثبت نام : ${tarikh_sabt_nam}</li>
                      <li>علاقمندی : ${user.alaghemandi}</li>
                      <li>کمیته : ${user.komite}</li>
                    </ul>
                </div>`;
                }
              });
          } else if (selected_option === "tarikh_tavalod") {
            input = input.replaceAll("/", "-");
            axios
              .get(`http://localhost:8000/api/user/tarikh_tavalod=${input}`)
              .then((users) => {
                console.log(users);
                let x = users.data;

                let col_xs_12_col_md_6 = document.getElementById("list-users");
                col_xs_12_col_md_6.innerHTML = "";
                for (let user of x) {
                  let tarikh_sabt_nam = user.tarikh_sabt_nam.split("-");
                  tarikh_sabt_nam = `${tarikh_sabt_nam[0]}/${tarikh_sabt_nam[1]}/${tarikh_sabt_nam[2]}`;

                  let tarikh_tavalod = user.tarikh_tavalod.split("-");
                  tarikh_tavalod = `${tarikh_tavalod[0]}/${tarikh_tavalod[1]}/${tarikh_tavalod[2]}`;
                  let col_xs_12_col_md_6 = document.getElementById(
                    "list-users"
                  );
                  // let well = document.createElement("div");
                  // well.setAttribute("class", "well");
                  // let ul = document.createElement("ul");
                  // let li = document.createElement("li");
                  col_xs_12_col_md_6.innerHTML += `
                  <div class="well">
                    <ul>
                      <img src="./upload/${user.aks}" alt="" />
                      <li>نام : ${user.nam}</li>
                      <li>نام خانوادگی : ${user.nam_khanevadegi}</li>
                      <li>کدملی : ${user.code_meli}</li>
                      <li>موبایل : ${user.mobile}</li>
                      <li>تاریخ تولد : ${tarikh_tavalod}</li>
                      <li>کدجهادگر : ${user.code_jahadgar}</li>
                      <li>تاریخ ثبت نام : ${tarikh_sabt_nam}</li>
                      <li>علاقمندی : ${user.alaghemandi}</li>
                      <li>کمیته : ${user.komite}</li>
                    </ul>
                </div>`;
                }
              });
          } else if (selected_option === "code_meli") {
            axios
              .get(`http://localhost:8000/api/user/code_meli=${input}`)
              .then((users) => {
                console.log(users);
                let x = users.data;

                let col_xs_12_col_md_6 = document.getElementById("list-users");
                col_xs_12_col_md_6.innerHTML = "";
                for (let user of x) {
                  let tarikh_sabt_nam = user.tarikh_sabt_nam.split("-");
                  tarikh_sabt_nam = `${tarikh_sabt_nam[0]}/${tarikh_sabt_nam[1]}/${tarikh_sabt_nam[2]}`;

                  let tarikh_tavalod = user.tarikh_tavalod.split("-");
                  tarikh_tavalod = `${tarikh_tavalod[0]}/${tarikh_tavalod[1]}/${tarikh_tavalod[2]}`;
                  let col_xs_12_col_md_6 = document.getElementById(
                    "list-users"
                  );
                  // let well = document.createElement("div");
                  // well.setAttribute("class", "well");
                  // let ul = document.createElement("ul");
                  // let li = document.createElement("li");
                  col_xs_12_col_md_6.innerHTML += `
                  <div class="well">
                    <ul>
                      <img src="./upload/${user.aks}" alt="" />
                      <li>نام : ${user.nam}</li>
                      <li>نام خانوادگی : ${user.nam_khanevadegi}</li>
                      <li>کدملی : ${user.code_meli}</li>
                      <li>موبایل : ${user.mobile}</li>
                      <li>تاریخ تولد : ${tarikh_tavalod}</li>
                      <li>کدجهادگر : ${user.code_jahadgar}</li>
                      <li>تاریخ ثبت نام : ${tarikh_sabt_nam}</li>
                      <li>علاقمندی : ${user.alaghemandi}</li>
                      <li>کمیته : ${user.komite}</li>
                    </ul>
                </div>`;
                }
              });
          } else if (selected_option === "tarikh_sabt_nam") {
            input = input.replaceAll("/", "-");
            axios
              .get(`http://localhost:8000/api/user/tarikh_sabt_nam=${input}`)
              .then((users) => {
                console.log(users);
                let x = users.data;

                let col_xs_12_col_md_6 = document.getElementById("list-users");
                col_xs_12_col_md_6.innerHTML = "";
                for (let user of x) {
                  let tarikh_sabt_nam = user.tarikh_sabt_nam.split("-");
                  tarikh_sabt_nam = `${tarikh_sabt_nam[0]}/${tarikh_sabt_nam[1]}/${tarikh_sabt_nam[2]}`;

                  let tarikh_tavalod = user.tarikh_tavalod.split("-");
                  tarikh_tavalod = `${tarikh_tavalod[0]}/${tarikh_tavalod[1]}/${tarikh_tavalod[2]}`;
                  let col_xs_12_col_md_6 = document.getElementById(
                    "list-users"
                  );
                  // let well = document.createElement("div");
                  // well.setAttribute("class", "well");
                  // let ul = document.createElement("ul");
                  // let li = document.createElement("li");
                  col_xs_12_col_md_6.innerHTML += `
                  <div class="well">
                    <ul>
                      <img src="./upload/${user.aks}" alt="" />
                      <li>نام : ${user.nam}</li>
                      <li>نام خانوادگی : ${user.nam_khanevadegi}</li>
                      <li>کدملی : ${user.code_meli}</li>
                      <li>موبایل : ${user.mobile}</li>
                      <li>تاریخ تولد : ${tarikh_tavalod}</li>
                      <li>کدجهادگر : ${user.code_jahadgar}</li>
                      <li>تاریخ ثبت نام : ${tarikh_sabt_nam}</li>
                      <li>علاقمندی : ${user.alaghemandi}</li>
                      <li>کمیته : ${user.komite}</li>
                    </ul>
                </div>`;
                }
              });
          } else if (selected_option === "alaghemandi") {
            axios
              .get(`http://localhost:8000/api/user/alaghemandi=${input}`)
              .then((users) => {
                console.log(users);
                let x = users.data;

                let col_xs_12_col_md_6 = document.getElementById("list-users");
                col_xs_12_col_md_6.innerHTML = "";
                for (let user of x) {
                  let tarikh_sabt_nam = user.tarikh_sabt_nam.split("-");
                  tarikh_sabt_nam = `${tarikh_sabt_nam[0]}/${tarikh_sabt_nam[1]}/${tarikh_sabt_nam[2]}`;

                  let tarikh_tavalod = user.tarikh_tavalod.split("-");
                  tarikh_tavalod = `${tarikh_tavalod[0]}/${tarikh_tavalod[1]}/${tarikh_tavalod[2]}`;
                  let col_xs_12_col_md_6 = document.getElementById(
                    "list-users"
                  );
                  // let well = document.createElement("div");
                  // well.setAttribute("class", "well");
                  // let ul = document.createElement("ul");
                  // let li = document.createElement("li");
                  col_xs_12_col_md_6.innerHTML += `
                  <div class="well">
                    <ul>
                      <img src="./upload/${user.aks}" alt="" />
                      <li>نام : ${user.nam}</li>
                      <li>نام خانوادگی : ${user.nam_khanevadegi}</li>
                      <li>کدملی : ${user.code_meli}</li>
                      <li>موبایل : ${user.mobile}</li>
                      <li>تاریخ تولد : ${tarikh_tavalod}</li>
                      <li>کدجهادگر : ${user.code_jahadgar}</li>
                      <li>تاریخ ثبت نام : ${tarikh_sabt_nam}</li>
                      <li>علاقمندی : ${user.alaghemandi}</li>
                      <li>کمیته : ${user.komite}</li>
                    </ul>
                </div>`;
                }
              });
          } else if (selected_option === "komite") {
            axios
              .get(`http://localhost:8000/api/user/komite=${input}`)
              .then((users) => {
                console.log(users);
                let x = users.data;

                let col_xs_12_col_md_6 = document.getElementById("list-users");
                col_xs_12_col_md_6.innerHTML = "";
                for (let user of x) {
                  let tarikh_sabt_nam = user.tarikh_sabt_nam.split("-");
                  tarikh_sabt_nam = `${tarikh_sabt_nam[0]}/${tarikh_sabt_nam[1]}/${tarikh_sabt_nam[2]}`;

                  let tarikh_tavalod = user.tarikh_tavalod.split("-");
                  tarikh_tavalod = `${tarikh_tavalod[0]}/${tarikh_tavalod[1]}/${tarikh_tavalod[2]}`;
                  let col_xs_12_col_md_6 = document.getElementById(
                    "list-users"
                  );
                  // let well = document.createElement("div");
                  // well.setAttribute("class", "well");
                  // let ul = document.createElement("ul");
                  // let li = document.createElement("li");
                  col_xs_12_col_md_6.innerHTML += `
                  <div class="well">
                    <ul>
                      <img src="./upload/${user.aks}" alt="" />
                      <li>نام : ${user.nam}</li>
                      <li>نام خانوادگی : ${user.nam_khanevadegi}</li>
                      <li>کدملی : ${user.code_meli}</li>
                      <li>موبایل : ${user.mobile}</li>
                      <li>تاریخ تولد : ${tarikh_tavalod}</li>
                      <li>کدجهادگر : ${user.code_jahadgar}</li>
                      <li>تاریخ ثبت نام : ${tarikh_sabt_nam}</li>
                      <li>علاقمندی : ${user.alaghemandi}</li>
                      <li>کمیته : ${user.komite}</li>
                    </ul>
                </div>`;
                }
              });
          }
        }
      }
    </script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script
      src="https://stackpath.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"
      integrity="sha384-aJ21OjlMXNL5UyIl/XNwTMqvzeRMZH2w8c5cRVpzpU8Y5bApTppSuUkhZXN0VxHd"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
